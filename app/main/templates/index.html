{% extends "heading.html" %}

{% block content %}
    <form action="{{ url_for('main.filter_posts') }}" method = "post">
        {{ filter_form.hidden_tag() }}
        <p style="padding-left:5vw"> 
            {{ filter_form.filter.label }}
            {{ filter_form.filter }}
            {{ filter_form.submit(id="filter-submit", class="submit") }}
        </p>
    </form>
    {% for post in posts %}
    <div class="posts">
    <p class = "post">
        {% include '_post.html' %}
        </p>
        {% if current_user.is_authenticated %}
            <p class = "new_comment">
                {% include 'new_comment.html' %}
            </p>
        {% endif %}
        <div id="toggle-comments-field-{{post.id}}" style="display: none;">
            {% for comment in post.comments %}
                <p>
                    {% include '_comment.html' %}
                </p>
            {% endfor %}
        </div>
    {% endfor %}
    {% if prev_url %}
        <a style="padding-left: 2vw;" href="{{ prev_url }}">Newer posts</a>
    {% endif %}
    {% if next_url %}
        <a style="padding-left: 2vw;" href="{{ next_url }}">Older posts</a>
    {% endif %}
    </div>
{% endblock %}
